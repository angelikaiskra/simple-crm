name: 'User Management'
description: ''
endpoints:
  -
    httpMethods:
      - GET
    uri: api/user/me
    metadata:
      title: 'Current user'
      description: |-
        User roles: user, moderator, admin<br>

        Display currently logged in user.<br>
      authenticated: true
      custom: []
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    queryParameters: []
    bodyParameters: []
    responses:
      -
        status: 201
        content: |-
          {
          "data": {
          "id": 2,
          "name": "Trycia",
          "surname": "Parisian",
          "date_of_birth": "2009-02-04",
          "login": "admin",
          "role": "admin"
          }
          }
        headers: []
        description: '201'
    responseFields: []
  -
    httpMethods:
      - GET
    uri: api/users
    metadata:
      title: 'Returns a list of users'
      description: |-
        User roles: user, moderator, admin<br>

        Display a paginated(by 20) listing of the users.<br>
      authenticated: true
      custom: []
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    queryParameters:
      page:
        name: page
        description: 'Non required field - self explanatory'
        required: false
        example: 10
        type: integer
      limit:
        name: limit
        description: 'Non required field - self explanatory'
        required: false
        example: 7
        type: integer
    bodyParameters: []
    responses:
      -
        status: 201
        content: |-
          {
          "data": [
          {
          "id": 1,
          "name": "Amir",
          "surname": "Sauer",
          "date_of_birth": "2012-11-05",
          "login": "moderator",
          "role": "moderator"
          },
          {
          "id": 2,
          "name": "Trycia",
          "surname": "Parisian",
          "date_of_birth": "2009-02-04",
          "login": "admin",
          "role": "admin"
          },
          {
          "id": 3,
          "name": "Holie",
          "surname": "Romaguera",
          "date_of_birth": "1998-10-11",
          "login": "boehm.serena",
          "role": "user"
          },
          {
          "id": 4,
          "name": "Myrna",
          "surname": "Yost",
          "date_of_birth": "1984-09-15",
          "login": "vschneider",
          "role": "user"
          },
          {
          "id": 5,
          "name": "Edison",
          "surname": "Ritchie",
          "date_of_birth": "2003-07-05",
          "login": "rschmeler",
          "role": "user"
          },
          {
          "id": 6,
          "name": "Tyrel",
          "surname": "Schimmel",
          "date_of_birth": "1992-10-24",
          "login": "emory76",
          "role": "user"
          },
          {
          "id": 7,
          "name": "Kiel",
          "surname": "Rutherford",
          "date_of_birth": "1990-02-24",
          "login": "lakin.hallie",
          "role": "user"
          },
          {
          "id": 8,
          "name": "Arlene",
          "surname": "Weimann",
          "date_of_birth": "1970-03-04",
          "login": "wisoky.gillian",
          "role": "user"
          },
          {
          "id": 9,
          "name": "Deborah",
          "surname": "Murazik",
          "date_of_birth": "2012-03-08",
          "login": "llebsack",
          "role": "user"
          },
          {
          "id": 10,
          "name": "Gerhard",
          "surname": "Mayer",
          "date_of_birth": "2015-08-04",
          "login": "athena94",
          "role": "user"
          },
          {
          "id": 11,
          "name": "Evans",
          "surname": "Dooley",
          "date_of_birth": "1978-01-29",
          "login": "roy25",
          "role": "user"
          },
          {
          "id": 12,
          "name": "Caroline",
          "surname": "Mante",
          "date_of_birth": "2020-06-17",
          "login": "bcollins",
          "role": "user"
          },
          {
          "id": 13,
          "name": "Francis",
          "surname": "Schiller",
          "date_of_birth": "1991-09-28",
          "login": "torey65",
          "role": "user"
          },
          {
          "id": 14,
          "name": "Dina",
          "surname": "Dietrich",
          "date_of_birth": "1986-03-05",
          "login": "ilehner",
          "role": "user"
          },
          {
          "id": 15,
          "name": "Dexter",
          "surname": "Bruen",
          "date_of_birth": "2006-02-08",
          "login": "bstamm",
          "role": "user"
          },
          {
          "id": 16,
          "name": "Vivian",
          "surname": "Braun",
          "date_of_birth": "1981-08-22",
          "login": "jakubowski.richie",
          "role": "user"
          },
          {
          "id": 17,
          "name": "Palma",
          "surname": "Schneider",
          "date_of_birth": "1983-05-25",
          "login": "glover.johnnie",
          "role": "user"
          },
          {
          "id": 18,
          "name": "Noe",
          "surname": "Larson",
          "date_of_birth": "1989-10-28",
          "login": "kling.berry",
          "role": "user"
          },
          {
          "id": 19,
          "name": "Charity",
          "surname": "Adams",
          "date_of_birth": "1977-09-24",
          "login": "veichmann",
          "role": "user"
          },
          {
          "id": 20,
          "name": "Cayla",
          "surname": "Leffler",
          "date_of_birth": "1984-08-28",
          "login": "raegan73",
          "role": "user"
          }
          ],
          "links": {
          "first": "http://localhost/UAM/simple-crm/public/api/users?page=1",
          "last": "http://localhost/UAM/simple-crm/public/api/users?page=3",
          "prev": null,
          "next": "http://localhost/UAM/simple-crm/public/api/users?page=2"
          },
          "meta": {
          "current_page": 1,
          "from": 1,
          "last_page": 3,
          "links": [
          {
          "url": null,
          "label": "&laquo; Previous",
          "active": false
          },
          {
          "url": "http://localhost/UAM/simple-crm/public/api/users?page=1",
          "label": "1",
          "active": true
          },
          {
          "url": "http://localhost/UAM/simple-crm/public/api/users?page=2",
          "label": "2",
          "active": false
          },
          {
          "url": "http://localhost/UAM/simple-crm/public/api/users?page=3",
          "label": "3",
          "active": false
          },
          {
          "url": "http://localhost/UAM/simple-crm/public/api/users?page=2",
          "label": "Next &raquo;",
          "active": false
          }
          ],
          "path": "http://localhost/UAM/simple-crm/public/api/users",
          "per_page": 20,
          "to": 20,
          "total": 54
          }
          }
        headers: []
        description: '201'
    responseFields: []
  -
    httpMethods:
      - GET
    uri: 'api/user/{user}'
    metadata:
      title: |-
        Return single user

        User roles: user, moderator, admin<br>

        Display the specified user by id.<br>
      description: ''
      authenticated: true
      custom: []
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      user:
        name: user
        description: 'Id of user in database'
        required: true
        example: 6
        type: integer
    queryParameters: []
    bodyParameters: []
    responses:
      -
        status: 201
        content: |-
          {
          "data": {
          "id": 2,
          "name": "Trycia",
          "surname": "Parisian",
          "date_of_birth": "2009-02-04",
          "login": "admin",
          "role": "admin"
          }
          }
        headers: []
        description: '201'
    responseFields: []
  -
    httpMethods:
      - PUT
      - PATCH
    uri: 'api/user/{id}'
    metadata:
      title: 'Update single user'
      description: |-
        User roles: moderator, admin<br>

        Updates user's columns find by id
      authenticated: true
      custom: []
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      id:
        name: id
        description: 'The ID of the user.'
        required: true
        example: 11
        type: integer
      user:
        name: user
        description: 'Id of user in database'
        required: true
        example: 3
        type: integer
    queryParameters: []
    bodyParameters:
      name:
        name: name
        description: 'optional User''s name.'
        required: false
        example: Adam
        type: string
      surname:
        name: surname
        description: 'optional User''s surname.'
        required: false
        example: Kowalski
        type: string
      date_of_birth:
        name: date_of_birth
        description: 'optional User''s date of birth.'
        required: false
        example: '2000-10-10'
        type: date
      role:
        name: role
        description: 'optional User''s role, possible values: user, moderator, admin.'
        required: false
        example: moderator
        type: string
    responses:
      -
        status: 200
        content: |-
          {
          "message": "Pomyślnie zaktualizowano użytkownika",
          "data": {
          "id": 3,
          "name": "Holie",
          "surname": "Romaguera",
          "date_of_birth": "1998-10-11",
          "login": "boehm.serena",
          "deleted_at": null,
          "created_at": "2021-12-20T13:09:01.000000Z",
          "updated_at": "2021-12-20T13:09:48.000000Z"
          }
          }
        headers: []
        description: '200'
    responseFields: []
  -
    httpMethods:
      - DELETE
    uri: 'api/user/{id}'
    metadata:
      title: 'Delete single user'
      description: |-
        User roles: admin<br>

        Remove the specified user from database.
        May throw ModelNotFoundException if user's is not in database
      authenticated: true
      custom: []
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      id:
        name: id
        description: 'The ID of the user.'
        required: true
        example: 9
        type: integer
      user:
        name: user
        description: 'Id of user in database'
        required: true
        example: 1
        type: integer
    queryParameters: []
    bodyParameters: []
    responses:
      -
        status: 201
        content: |-
          {
          "message": "Pomyślnie usunięto użytkownika"
          }
        headers: []
        description: '201'
      -
        status: 403
        content: |-
          {
          "message": "User does not have the right roles.",
          "exception": "Spatie\\Permission\\Exceptions\\UnauthorizedException",
          "file": "G:\\XAMPP\\htdocs\\UAM\\simple-crm\\vendor\\spatie\\laravel-permission\\src\\Exceptions\\UnauthorizedException.php",
          "line": 22,
          "trace": [
          {
          "file": "G:\\XAMPP\\htdocs\\UAM\\simple-crm\\vendor\\spatie\\laravel-permission\\src\\Middlewares\\RoleMiddleware.php",
          "line": 24,
          "function": "forRoles",
          "class": "Spatie\\Permission\\Exceptions\\UnauthorizedException",
          "type": "::"
          },
          {
          "file": "G:\\XAMPP\\htdocs\\UAM\\simple-crm\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php",
          "line": 167,
          "function": "handle",
          "class": "Spatie\\Permission\\Middlewares\\RoleMiddleware",
          "type": "->"
          },
          {
          "file": "G:\\XAMPP\\htdocs\\UAM\\simple-crm\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\SubstituteBindings.php",
          "line": 50,
          "function": "Illuminate\\Pipeline\\{closure}",
          "class": "Illuminate\\Pipeline\\Pipeline",
          "type": "->"
          },
          {
          "file": "G:\\XAMPP\\htdocs\\UAM\\simple-crm\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php",
          "line": 167,
          "function": "handle",
          "class": "Illuminate\\Routing\\Middleware\\SubstituteBindings",
          "type": "->"
          },
          {
          "file": "G:\\XAMPP\\htdocs\\UAM\\simple-crm\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php",
          "line": 127,
          "function": "Illuminate\\Pipeline\\{closure}",
          "class": "Illuminate\\Pipeline\\Pipeline",
          "type": "->"
          },
          {
          "file": "G:\\XAMPP\\htdocs\\UAM\\simple-crm\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php",
          "line": 103,
          "function": "handleRequest",
          "class": "Illuminate\\Routing\\Middleware\\ThrottleRequests",
          "type": "->"
          },
          {
          "file": "G:\\XAMPP\\htdocs\\UAM\\simple-crm\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Middleware\\ThrottleRequests.php",
          "line": 55,
          "function": "handleRequestUsingNamedLimiter",
          "class": "Illuminate\\Routing\\Middleware\\ThrottleRequests",
          "type": "->"
          },
          {
          "file": "G:\\XAMPP\\htdocs\\UAM\\simple-crm\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php",
          "line": 167,
          "function": "handle",
          "class": "Illuminate\\Routing\\Middleware\\ThrottleRequests",
          "type": "->"
          },
          {
          "file": "G:\\XAMPP\\htdocs\\UAM\\simple-crm\\vendor\\laravel\\framework\\src\\Illuminate\\Auth\\Middleware\\Authenticate.php",
          "line": 44,
          "function": "Illuminate\\Pipeline\\{closure}",
          "class": "Illuminate\\Pipeline\\Pipeline",
          "type": "->"
          },
          {
          "file": "G:\\XAMPP\\htdocs\\UAM\\simple-crm\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php",
          "line": 167,
          "function": "handle",
          "class": "Illuminate\\Auth\\Middleware\\Authenticate",
          "type": "->"
          },
          {
          "file": "G:\\XAMPP\\htdocs\\UAM\\simple-crm\\vendor\\laravel\\sanctum\\src\\Http\\Middleware\\EnsureFrontendRequestsAreStateful.php",
          "line": 33,
          "function": "Illuminate\\Pipeline\\{closure}",
          "class": "Illuminate\\Pipeline\\Pipeline",
          "type": "->"
          },
          {
          "file": "G:\\XAMPP\\htdocs\\UAM\\simple-crm\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php",
          "line": 128,
          "function": "Laravel\\Sanctum\\Http\\Middleware\\{closure}",
          "class": "Laravel\\Sanctum\\Http\\Middleware\\EnsureFrontendRequestsAreStateful",
          "type": "->"
          },
          {
          "file": "G:\\XAMPP\\htdocs\\UAM\\simple-crm\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php",
          "line": 103,
          "function": "Illuminate\\Pipeline\\{closure}",
          "class": "Illuminate\\Pipeline\\Pipeline",
          "type": "->"
          },
          {
          "file": "G:\\XAMPP\\htdocs\\UAM\\simple-crm\\vendor\\laravel\\sanctum\\src\\Http\\Middleware\\EnsureFrontendRequestsAreStateful.php",
          "line": 34,
          "function": "then",
          "class": "Illuminate\\Pipeline\\Pipeline",
          "type": "->"
          },
          {
          "file": "G:\\XAMPP\\htdocs\\UAM\\simple-crm\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php",
          "line": 167,
          "function": "handle",
          "class": "Laravel\\Sanctum\\Http\\Middleware\\EnsureFrontendRequestsAreStateful",
          "type": "->"
          },
          {
          "file": "G:\\XAMPP\\htdocs\\UAM\\simple-crm\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php",
          "line": 103,
          "function": "Illuminate\\Pipeline\\{closure}",
          "class": "Illuminate\\Pipeline\\Pipeline",
          "type": "->"
          },
          {
          "file": "G:\\XAMPP\\htdocs\\UAM\\simple-crm\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php",
          "line": 697,
          "function": "then",
          "class": "Illuminate\\Pipeline\\Pipeline",
          "type": "->"
          },
          {
          "file": "G:\\XAMPP\\htdocs\\UAM\\simple-crm\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php",
          "line": 672,
          "function": "runRouteWithinStack",
          "class": "Illuminate\\Routing\\Router",
          "type": "->"
          },
          {
          "file": "G:\\XAMPP\\htdocs\\UAM\\simple-crm\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php",
          "line": 636,
          "function": "runRoute",
          "class": "Illuminate\\Routing\\Router",
          "type": "->"
          },
          {
          "file": "G:\\XAMPP\\htdocs\\UAM\\simple-crm\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php",
          "line": 625,
          "function": "dispatchToRoute",
          "class": "Illuminate\\Routing\\Router",
          "type": "->"
          },
          {
          "file": "G:\\XAMPP\\htdocs\\UAM\\simple-crm\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php",
          "line": 166,
          "function": "dispatch",
          "class": "Illuminate\\Routing\\Router",
          "type": "->"
          },
          {
          "file": "G:\\XAMPP\\htdocs\\UAM\\simple-crm\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php",
          "line": 128,
          "function": "Illuminate\\Foundation\\Http\\{closure}",
          "class": "Illuminate\\Foundation\\Http\\Kernel",
          "type": "->"
          },
          {
          "file": "G:\\XAMPP\\htdocs\\UAM\\simple-crm\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php",
          "line": 21,
          "function": "Illuminate\\Pipeline\\{closure}",
          "class": "Illuminate\\Pipeline\\Pipeline",
          "type": "->"
          },
          {
          "file": "G:\\XAMPP\\htdocs\\UAM\\simple-crm\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull.php",
          "line": 31,
          "function": "handle",
          "class": "Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest",
          "type": "->"
          },
          {
          "file": "G:\\XAMPP\\htdocs\\UAM\\simple-crm\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php",
          "line": 167,
          "function": "handle",
          "class": "Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull",
          "type": "->"
          },
          {
          "file": "G:\\XAMPP\\htdocs\\UAM\\simple-crm\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest.php",
          "line": 21,
          "function": "Illuminate\\Pipeline\\{closure}",
          "class": "Illuminate\\Pipeline\\Pipeline",
          "type": "->"
          },
          {
          "file": "G:\\XAMPP\\htdocs\\UAM\\simple-crm\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\TrimStrings.php",
          "line": 40,
          "function": "handle",
          "class": "Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest",
          "type": "->"
          },
          {
          "file": "G:\\XAMPP\\htdocs\\UAM\\simple-crm\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php",
          "line": 167,
          "function": "handle",
          "class": "Illuminate\\Foundation\\Http\\Middleware\\TrimStrings",
          "type": "->"
          },
          {
          "file": "G:\\XAMPP\\htdocs\\UAM\\simple-crm\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize.php",
          "line": 27,
          "function": "Illuminate\\Pipeline\\{closure}",
          "class": "Illuminate\\Pipeline\\Pipeline",
          "type": "->"
          },
          {
          "file": "G:\\XAMPP\\htdocs\\UAM\\simple-crm\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php",
          "line": 167,
          "function": "handle",
          "class": "Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize",
          "type": "->"
          },
          {
          "file": "G:\\XAMPP\\htdocs\\UAM\\simple-crm\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance.php",
          "line": 86,
          "function": "Illuminate\\Pipeline\\{closure}",
          "class": "Illuminate\\Pipeline\\Pipeline",
          "type": "->"
          },
          {
          "file": "G:\\XAMPP\\htdocs\\UAM\\simple-crm\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php",
          "line": 167,
          "function": "handle",
          "class": "Illuminate\\Foundation\\Http\\Middleware\\PreventRequestsDuringMaintenance",
          "type": "->"
          },
          {
          "file": "G:\\XAMPP\\htdocs\\UAM\\simple-crm\\vendor\\fruitcake\\laravel-cors\\src\\HandleCors.php",
          "line": 52,
          "function": "Illuminate\\Pipeline\\{closure}",
          "class": "Illuminate\\Pipeline\\Pipeline",
          "type": "->"
          },
          {
          "file": "G:\\XAMPP\\htdocs\\UAM\\simple-crm\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php",
          "line": 167,
          "function": "handle",
          "class": "Fruitcake\\Cors\\HandleCors",
          "type": "->"
          },
          {
          "file": "G:\\XAMPP\\htdocs\\UAM\\simple-crm\\vendor\\laravel\\framework\\src\\Illuminate\\Http\\Middleware\\TrustProxies.php",
          "line": 39,
          "function": "Illuminate\\Pipeline\\{closure}",
          "class": "Illuminate\\Pipeline\\Pipeline",
          "type": "->"
          },
          {
          "file": "G:\\XAMPP\\htdocs\\UAM\\simple-crm\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php",
          "line": 167,
          "function": "handle",
          "class": "Illuminate\\Http\\Middleware\\TrustProxies",
          "type": "->"
          },
          {
          "file": "G:\\XAMPP\\htdocs\\UAM\\simple-crm\\vendor\\laravel\\framework\\src\\Illuminate\\Pipeline\\Pipeline.php",
          "line": 103,
          "function": "Illuminate\\Pipeline\\{closure}",
          "class": "Illuminate\\Pipeline\\Pipeline",
          "type": "->"
          },
          {
          "file": "G:\\XAMPP\\htdocs\\UAM\\simple-crm\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php",
          "line": 141,
          "function": "then",
          "class": "Illuminate\\Pipeline\\Pipeline",
          "type": "->"
          },
          {
          "file": "G:\\XAMPP\\htdocs\\UAM\\simple-crm\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Kernel.php",
          "line": 110,
          "function": "sendRequestThroughRouter",
          "class": "Illuminate\\Foundation\\Http\\Kernel",
          "type": "->"
          },
          {
          "file": "G:\\XAMPP\\htdocs\\UAM\\simple-crm\\public\\index.php",
          "line": 52,
          "function": "handle",
          "class": "Illuminate\\Foundation\\Http\\Kernel",
          "type": "->"
          }
          ]
          }
        headers: []
        description: '403'
    responseFields: []
